---
import { ClientRouter } from 'astro:transitions'
import { siteMetadata } from '../../config/site'

import '../../css/main.css'

import Footer from './Footer.astro'
import Nav from './Nav.astro'
import Seo from './Seo.astro'

const frontmatter = Astro.props.frontmatter || {}
---

<html class='bg-secondary' lang='en-US'>
  <head>
    <Seo frontmatter={frontmatter} siteMetadata={{ ...siteMetadata, url: '/' }} />
    <link rel="sitemap" href="/sitemap-index.xml" />
    <link
      href="/rss.xml"
      rel="alternate"
      title={siteMetadata.title}
      type="application/rss+xml"
    />
    <ClientRouter />
  </head>
  <body>
    <div class='flex min-h-full flex-col content-between font-serif'>
      <div class='bg-background grow'>
        <Nav />

        <main class='mx-auto my-8 max-w-2xl px-5 text-gray-800'>
          <slot />
        </main>
      </div>

      <Footer />
    </div>
  </body>
</html>
